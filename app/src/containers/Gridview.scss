@import '../variables';

.gridview {
	position: relative;
	display: flex;
	flex: 1;
	--split-size: 10px;
	--subdivide-size: 10px;
	--border-size: 1px;

	&-handle {
		position: absolute;
		width: 100%;
		height: 100%;
		pointer-events: none;

		&-split {
			position: absolute;
			z-index: 35;
			touch-action: none;
			pointer-events: auto;
		}

		&-split--horizontal {
			cursor: var(--cursor-ew-resize);
			top: 0;
			height: 100%;
			width: var(--split-size);
			transform: translateX(calc(var(--split-size) / -2));

			@at-root body.key--alt & {
				cursor: var(--cursor-swap-horizontal);
			}

			@at-root body.key--ctrl & {
				cursor: var(--cursor-flip-horizontal);
			}
		}
		&-split--vertical {
			cursor: var(--cursor-ns-resize);
			left: 0;
			width: 100%;
			height: var(--split-size);
			transform: translateY(calc(var(--split-size) / -2));

			@at-root body.key--alt & {
				cursor: var(--cursor-swap-vertical);
			}

			@at-root body.key--ctrl & {
				cursor: var(--cursor-flip-vertical);
			}
		}

		&-subdivider {
			position: absolute;
			z-index: 35;
			touch-action: none;
			pointer-events: auto;
			width: var(--subdivide-size);
			height: var(--subdivide-size);

			&::before {
				content: ' ';
				font-size: 0;
				line-height: 0;
				display: block;
				width: 0;
				height: 0;
				border-style: solid;
				border-width: 0;
				border-color: transparent;
				transition: 0.3s;
				transform: scale(0.0);
			}
			&:hover::before {
				transform: scale(1.0);
			}

			&--top-left {
				&, &::before {
					top: 0;
					left: 0;
					cursor: var(--cursor-nw-resize);
				}
				&::before {
					border-width: var(--subdivide-size) var(--subdivide-size) 0 0;
					border-color: black transparent transparent transparent;
					transform-origin: 0 0;
				}
			}

			&--top-right {
				&, &::before {
					top: 0;
					right: 0;
					cursor: var(--cursor-ne-resize);
				}
				&::before {
					border-width: 0 var(--subdivide-size) var(--subdivide-size) 0;
					border-color:  transparent black transparent transparent;
					transform-origin: 100% 0;
				}
			}

			&--bottom-left {
				&, &::before {
					bottom: 0;
					left: 0;
					cursor: var(--cursor--sw-resize);
				}
				&::before {
					border-width: var(--subdivide-size) 0 0 var(--subdivide-size);
					border-color:  transparent transparent transparent black;
					transform-origin: 0 100%;
				}
			}

			&--bottom-right {
				&, &::before {
					bottom: 0;
					right: 0;
					cursor: var(--cursor-se-resize);
				}
				&::before {
					border-width: 0 0 var(--subdivide-size) var(--subdivide-size);
					border-color:  transparent transparent black transparent;
					transform-origin: 100% 100%;
				}
			}
		}
	}

	&-subdivider-container,
	&-split-container {
		position: absolute;
		width: 100%;
		height: 100%;
		pointer-events: none;
	}

	&-view-container {
		position: absolute;
		width: 100%;
		height: 100%;

		&-view {
			position: absolute;
			border-width: 0 0 0 0;
			border-style: solid;
			border-color: black;
			box-sizing: border-box;
			overflow: auto;
		}
	}
}