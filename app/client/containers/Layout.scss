@import '../variables';

.layout {
	position: relative;
	display: flex;
	flex: 1;
	--edge-size: 10px;
	--subdivide-size: 10px;
	--border-size: 1px;

	&-handle {
		position: absolute;
		pointer-events: none;

		&-edge {
			position: absolute;
			z-index: 35;
			touch-action: none;
			pointer-events: auto;
		}

		&-edge--horizontal {
			cursor: var(--cursor-ns-resize);
			top: 0;
			height: 100%;
			width: var(--edge-size);
			transform: translateY(calc(var(--edge-size) / -2));

			@at-root body.key--alt & {
				cursor: var(--cursor-swap-horizontal);
			}
		}
		&-edge--vertical {
			cursor: var(--cursor-ew-resize);
			left: 0;
			width: 100%;
			height: var(--edge-size);
			transform: translateX(calc(var(--edge-size) / -2));

			@at-root body.key--alt & {
				cursor: var(--cursor-swap-vertical);
			}
		}

		&-divider {
			position: absolute;
			z-index: 35;
			touch-action: none;
			pointer-events: auto;
			width: var(--subdivide-size);
			height: var(--subdivide-size);

			// &::before {
			// 	content: ' ';
			// 	font-size: 0;
			// 	line-height: 0;
			// 	display: block;
			// 	width: 0;
			// 	height: 0;
			// 	border-style: solid;
			// 	border-width: 0;
			// 	border-color: transparent;
			// 	transition: 0.3s;
			// 	transform: scale(0.0);
			// }
			// &:hover::before {
			// 	transform: scale(1.0);
			// }

			&--top-left {
				&, &::before {
					top: 0;
					left: 0;
					cursor: var(--cursor-nw-resize);
				}
				// &::before {
				// 	border-width: var(--subdivide-size) var(--subdivide-size) 0 0;
				// 	border-color: black transparent transparent transparent;
				// 	transform-origin: 0 0;
				// }
			}

			&--top-right {
				&, &::before {
					top: 0;
					right: 0;
					cursor: var(--cursor-ne-resize);
				}
				// &::before {
				// 	border-width: 0 var(--subdivide-size) var(--subdivide-size) 0;
				// 	border-color:  transparent black transparent transparent;
				// 	transform-origin: 100% 0;
				// }
			}

			&--bottom-left {
				&, &::before {
					bottom: 0;
					left: 0;
					cursor: var(--cursor-sw-resize);
				}
				// &::before {
				// 	border-width: var(--subdivide-size) 0 0 var(--subdivide-size);
				// 	border-color:  transparent transparent transparent black;
				// 	transform-origin: 0 100%;
				// }
			}

			&--bottom-right {
				&, &::before {
					bottom: 0;
					right: 0;
					cursor: var(--cursor-se-resize);
				}
				// &::before {
				// 	border-width: 0 0 var(--subdivide-size) var(--subdivide-size);
				// 	border-color:  transparent transparent black transparent;
				// 	transform-origin: 100% 100%;
				// }
			}
		}
	}

	&-divider-container,
	&-edge-container {
		position: absolute;
		width: 100%;
		height: 100%;
		pointer-events: none;
	}

	&-view-container {
		position: absolute;
		width: 100%;
		height: 100%;

		&-view {
			--pane-top-neighbor: 0;
			--pane-right-neighbor: 0;
			--pane-bottom-neighbor: 0;
			--pane-left-neighbor: 0;
			position: absolute;
			overflow: hidden;
		}
	}
}